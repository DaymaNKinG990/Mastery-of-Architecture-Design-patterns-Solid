# üî¨ –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

## üìä –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º

–ò–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –≤–∏–¥–Ω–æ —Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **Forced Reflow Violations** (158ms, 63ms) - –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. **Non-Passive Event Listener Violations** (12 –Ω–∞—Ä—É—à–µ–Ω–∏–π) - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Pyodide Initialization Timeout** - –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Pyodide

---

## 1. üî¥ Forced Reflow Violations (158ms, 63ms)

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë—Ä–∞—É–∑–µ—Ä –≤—ã–Ω—É–∂–¥–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å layout –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript
- –≠—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ —É—Ö—É–¥—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ CodeMirror

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ forced reflow –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ

#### –ò—Å—Ç–æ—á–Ω–∏–∫ 1: –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫—É—Ä—Å–æ—Ä–æ–º (—Å—Ç—Ä–æ–∫–∞ 185-186)
```javascript
const doc = editor.getDoc();
const lastLine = doc.lastLine();           // ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å reflow
const lastLineLength = doc.getLine(lastLine).length;  // ‚ö†Ô∏è –¢–û–ß–ù–û –≤—ã–∑—ã–≤–∞–µ—Ç reflow
doc.setCursor(lastLine, lastLineLength);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `getLine().length` —Ç—Ä–µ–±—É–µ—Ç —á—Ç–µ–Ω–∏—è layout, —Ç–∞–∫ –∫–∞–∫ CodeMirror –¥–æ–ª–∂–µ–Ω –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —Å—Ç—Ä–æ–∫–∏.

#### –ò—Å—Ç–æ—á–Ω–∏–∫ 2: –†–∞—Å—á–µ—Ç –≤—ã—Å–æ—Ç—ã (—Å—Ç—Ä–æ–∫–∞ 193)
```javascript
const initialLines = editor.lineCount();   // ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å reflow
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `lineCount()` –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç–∞ layout, –µ—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –µ—â–µ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω.

#### –ò—Å—Ç–æ—á–Ω–∏–∫ 3: Debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∏ 243, 258)
```javascript
const initialLines = editor.lineCount();   // ‚ö†Ô∏è Reflow
const wrapper = editor.getWrapperElement();
wrapperUserSelect: window.getComputedStyle(wrapper).userSelect  // ‚ö†Ô∏è –¢–û–ß–ù–û reflow
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `getComputedStyle()` –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç forced reflow, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –≤—Å–µ—Ö CSS —Å–≤–æ–π—Å—Ç–≤.

#### –ò—Å—Ç–æ—á–Ω–∏–∫ 4: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (—Å—Ç—Ä–æ–∫–∏ 313, 341)
```javascript
const lastLine = doc.lastLine();           // ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å reflow
const lastLineLength = doc.getLine(lastLine).length;  // ‚ö†Ô∏è –¢–û–ß–ù–û –≤—ã–∑—ã–≤–∞–µ—Ç reflow
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏—è layout —Å–≤–æ–π—Å—Ç–≤.

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **CodeMirror –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
   - `setValue()` –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç layout
   - `getLine()` —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —Å—Ç—Ä–æ–∫–∏ –≤ DOM
   - `lineCount()` –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

2. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π:**
   - –ú—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí —á–∏—Ç–∞–µ–º layout ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä
   - –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç layout

3. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏—è:**
   - `getComputedStyle()` –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
   - `getLine().length` —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è

### ‚úÖ –†–µ—à–µ–Ω–∏—è

#### –†–µ—à–µ–Ω–∏–µ 1: –û—Ç–ª–æ–∂–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫—É—Ä—Å–æ—Ä–æ–º
```javascript
// –í–º–µ—Å—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –≤ —Ç–æ–º –∂–µ –∫–∞–¥—Ä–µ
requestAnimationFrame(() => {
    editor.setValue(initialValue);
    // –û—Ç–ª–æ–∂–∏—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞
    requestAnimationFrame(() => {
        const doc = editor.getDoc();
        const lastLine = doc.lastLine();
        const lastLineLength = doc.getLine(lastLine).length;
        doc.setCursor(lastLine, lastLineLength);
    });
});
```

#### –†–µ—à–µ–Ω–∏–µ 2: –£–±—Ä–∞—Ç—å getComputedStyle –∏–∑ debug —Ä–µ–∂–∏–º–∞
```javascript
if (window.DEBUG_CODEMIRROR) {
    // –£–±—Ä–∞—Ç—å getComputedStyle - —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç reflow
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ-layout —Å–≤–æ–π—Å—Ç–≤–∞
    const selectionInfo = {
        hasSelection: editor.somethingSelected(),
        // wrapperUserSelect: window.getComputedStyle(wrapper).userSelect  // ‚ùå –£–±—Ä–∞—Ç—å
    };
}
```

#### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CodeMirror API –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö —á—Ç–µ–Ω–∏–π
```javascript
// –í–º–µ—Å—Ç–æ doc.getLine(lastLine).length
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å doc.getCursor() –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è
```

---

## 2. ‚ö†Ô∏è Non-Passive Event Listener Violations (12 –Ω–∞—Ä—É—à–µ–Ω–∏–π)

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- CodeMirror 5.65.16 –¥–æ–±–∞–≤–ª—è–µ—Ç non-passive –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è:
  - `touchstart` (4x)
  - `touchmove` (4x)
  - `mousewheel` (4x)
- –≠—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
- –£—Ö—É–¥—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ touch-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ CodeMirror 5:**
   - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç passive listeners –¥–ª—è —ç—Ç–∏—Ö —Å–æ–±—ã—Ç–∏–π
   - CodeMirror 5 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å `preventDefault()`, —á—Ç–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å passive

2. **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
   - CodeMirror 5 –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `codemirror.min.js:1`
   - –ú—ã –Ω–µ –º–æ–∂–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∏–∑ –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞
   - –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∞–º–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### ‚úÖ –†–µ—à–µ–Ω–∏—è

#### –†–µ—à–µ–Ω–∏–µ 1: –ü—Ä–∏–Ω—è—Ç—å –∫–∞–∫ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- ‚ö†Ô∏è –≠—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è **–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã**
- –û–Ω–∏ –Ω–µ –ª–æ–º–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–æ—Å—Ç–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### –†–µ—à–µ–Ω–∏–µ 2: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ CodeMirror 6 (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ)
- CodeMirror 6 –∏–º–µ–µ—Ç –ª—É—á—à—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É passive listeners
- –ë–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –†–µ—à–µ–Ω–∏–µ 3: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ç—á (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
```javascript
if (window.OPTIMIZE_CODEMIRROR_EVENTS) {
    patchCodeMirrorEventListeners(editor);
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–∞—Ç—á –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å CodeMirror.

---

## 3. üî¥ Pyodide Initialization Timeout

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- Pyodide –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–∑ CDN
- –û—à–∏–±–∫–∞: `ERR_QUIC_PROTOCOL_ERROR 200 (OK)`
- Timeout –ø–æ—Å–ª–µ 30 —Å–µ–∫—É–Ω–¥

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫

#### –û—à–∏–±–∫–∞ 1: QUIC Protocol Error
```
GET https://cdn.jsdelivr.net/pyodide/v0.28.2/full/python_stdlib.zip
net::ERR_QUIC_PROTOCOL_ERROR 200 (OK)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü—Ä–æ–±–ª–µ–º–∞ —Å QUIC –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º (HTTP/3)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞:
  - –ü—Ä–æ–±–ª–µ–º–∞–º–∏ —Å —Å–µ—Ç—å—é/–ø—Ä–æ–∫—Å–∏
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π QUIC –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ç–∏
  - –ü—Ä–æ–±–ª–µ–º–∞–º–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ CDN

#### –û—à–∏–±–∫–∞ 2: Failed to fetch
```
Uncaught (in promise) TypeError: Failed to fetch
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°–ª–µ–¥—Å—Ç–≤–∏–µ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–∏
- –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å `python_stdlib.zip`

#### –û—à–∏–±–∫–∞ 3: WASM Instantiation Failed
```
wasm instantiation failed!
TypeError: WebAssembly compilation aborted: Network error
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å `pyodide.asm.wasm`
- WebAssembly –Ω–µ –º–æ–∂–µ—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ–∑ —Ñ–∞–π–ª–∞

#### –û—à–∏–±–∫–∞ 4: Initialization Timeout
```
Failed to initialize Pyodide: Error: Pyodide initialization timeout: 
CDN unreachable after 30 seconds
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å
- Timeout —Å—Ä–∞–±–æ—Ç–∞–ª —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é:**
   - QUIC –ø—Ä–æ—Ç–æ–∫–æ–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü—Ä–æ–∫—Å–∏/—Ñ–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
   - –ü—Ä–æ–±–ª–µ–º—ã —Å DNS

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å CDN:**
   - –í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å jsdelivr.net
   - –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
   - CORS –ø—Ä–æ–±–ª–µ–º—ã

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –±—Ä–∞—É–∑–µ—Ä–æ–º:**
   - –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –±—Ä–∞—É–∑–µ—Ä –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ QUIC
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### ‚úÖ –†–µ—à–µ–Ω–∏—è

#### –†–µ—à–µ–Ω–∏–µ 1: Fallback –Ω–∞ HTTP/2
```javascript
// –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π CDN –∏–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª
const indexURL = "https://cdn.jsdelivr.net/pyodide/v0.28.2/full/";
// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π CDN
```

#### –†–µ—à–µ–Ω–∏–µ 2: –£–≤–µ–ª–∏—á–∏—Ç—å timeout
```javascript
// –¢–µ–∫—É—â–∏–π timeout: 30 —Å–µ–∫—É–Ω–¥
// –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
setTimeout(() => {
    reject(new Error("Pyodide initialization timeout: CDN unreachable after 60 seconds"));
}, 60000);
```

#### –†–µ—à–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å retry –º–µ—Ö–∞–Ω–∏–∑–º
```javascript
async function initPyodideWithRetry(maxRetries = 3) {
    for (let i = 0; i < maxRetries; i++) {
        try {
            return await initPyodide();
        } catch (error) {
            if (i === maxRetries - 1) throw error;
            await new Promise(resolve => setTimeout(resolve, 2000 * (i + 1)));
        }
    }
}
```

#### –†–µ—à–µ–Ω–∏–µ 4: –õ–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Pyodide
- –°–∫–∞—á–∞—Ç—å Pyodide –ª–æ–∫–∞–ª—å–Ω–æ
- –•–æ—Å—Ç–∏—Ç—å –Ω–∞ —Å–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ò–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å CDN

#### –†–µ—à–µ–Ω–∏–µ 5: Graceful degradation
```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
if (!pyodideInstance) {
    showMessage("Pyodide –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.");
    // –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
}
```

---

## üìã –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ò—Å—Ç–æ—á–Ω–∏–∫ | –†–µ—à–µ–Ω–∏–µ |
|----------|-------------|----------|---------|
| Forced Reflow (158ms) | üî¥ –í—ã—Å–æ–∫–∞—è | `getLine().length`, `getComputedStyle()` | –û—Ç–ª–æ–∂–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏, —É–±—Ä–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏—è |
| Forced Reflow (63ms) | üî¥ –í—ã—Å–æ–∫–∞—è | `lineCount()`, –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫—É—Ä—Å–æ—Ä–æ–º | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `requestAnimationFrame` |
| Non-passive listeners (12x) | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | CodeMirror 5 –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | –ü—Ä–∏–Ω—è—Ç—å –∫–∞–∫ –æ–∂–∏–¥–∞–µ–º–æ–µ, –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ CM6 |
| Pyodide timeout | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è | –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é/CDN | Retry, fallback, –ª–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ |

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫—Ä–∏—Ç–∏—á–Ω–æ)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å forced reflow violations:**
   - –£–±—Ä–∞—Ç—å `getComputedStyle()` –∏–∑ debug —Ä–µ–∂–∏–º–∞
   - –û—Ç–ª–æ–∂–∏—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å `getLine().length`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ-layout –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ

2. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ Pyodide:**
   - –î–æ–±–∞–≤–∏—Ç—å retry –º–µ—Ö–∞–Ω–∏–∑–º
   - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - Graceful degradation

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å non-passive listeners:**
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ CodeMirror 6 –≤ –±—É–¥—É—â–µ–º

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
   - –õ–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Pyodide
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
   - Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–£–±—Ä–∞—Ç—å `getComputedStyle()` –∏–∑ production –∫–æ–¥–∞**
2. **–û—Ç–ª–æ–∂–∏—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å `getLine().length`**
3. **–î–æ–±–∞–≤–∏—Ç—å retry –¥–ª—è Pyodide**

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ CodeMirror 6**
2. **–õ–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Pyodide**
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Forced reflow violations:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Performance tab
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å violations > 50ms

2. **Non-passive listeners:**
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è (–æ–∂–∏–¥–∞–µ–º–æ)
   - –ù–æ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–ª–∏—è—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

3. **Pyodide:**
   - –î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å retry
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
   - Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

