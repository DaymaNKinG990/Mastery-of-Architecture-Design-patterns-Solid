# üìã –£—Ä–æ–∫ 2: Single Responsibility Principle (SRP)

## üéØ –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –†–∞–∑–¥–µ–ª—è—Ç—å –∫–ª–∞—Å—Å—ã –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏ –≤—ã—Å–æ–∫–æ —Å–≤—è–∑–Ω—ã–µ –º–æ–¥—É–ª–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è—Ç—å SRP –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## üöÄ –ú–æ—Ç–∏–≤–∞—Ü–∏—è: –ø—Ä–æ–±–ª–µ–º–∞ "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ" –∫–ª–∞—Å—Å–∞

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã

```mermaid
graph LR
    A[User Class] --> B[–í–∞–ª–∏–¥–∞—Ü–∏—è]
    A --> C[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î]
    A --> D[–û—Ç–ø—Ä–∞–≤–∫–∞ Email]
    A --> E[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤]
    
    style A fill:#c92a2a,stroke:#862e2e,stroke-width:3px,color:#fff
    style B fill:#495057,stroke:#343a40,stroke-width:2px,color:#fff
    style C fill:#495057,stroke:#343a40,stroke-width:2px,color:#fff
    style D fill:#495057,stroke:#343a40,stroke-width:2px,color:#fff
    style E fill:#495057,stroke:#343a40,stroke-width:2px,color:#fff
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –û–¥–∏–Ω –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ! üí•

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –í–°–Å:

```python
class User:
    """‚ùå –ö–ª–∞—Å—Å-–º–æ–Ω—Å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–∞–µ—Ç SRP"""
    
    def __init__(self, name: str, email: str, password: str):
        self.name = name
        self.email = email
        self.password = password

    def save_to_database(self):
        """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î"""
        print(f"SQL: INSERT INTO users...")

    def send_email(self, subject: str, message: str):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email"""
        print(f"SMTP: Sending to {self.email}")

    def validate_password(self):
        """–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å"""
        return len(self.password) >= 8

    def generate_report(self):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç"""
        return f"Report for {self.name}"
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- üîß **4 —Ä–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ
- üêõ **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ë–î** –ª–æ–º–∞–µ—Ç email –ª–æ–≥–∏–∫—É
- üß™ **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏
- üîÑ **–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö

---

## üìñ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ SRP

!!! quote "–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"
    **–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.**

### üí° –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –ø–æ–≤–∞—Ä–∞ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ:

- ‚ùå **–ü–ª–æ—Ö–æ**: –û–¥–∏–Ω –ø–æ–≤–∞—Ä –≥–æ—Ç–æ–≤–∏—Ç, –º–æ–µ—Ç –ø–æ—Å—É–¥—É, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∏ —Å—á–∏—Ç–∞–µ—Ç –¥–µ–Ω—å–≥–∏
- ‚úÖ **–•–æ—Ä–æ—à–æ**: –ü–æ–≤–∞—Ä —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤–∏—Ç, –æ—Ñ–∏—Ü–∏–∞–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑—ã, –º–æ–π—â–∏–∫ –º–æ–µ—Ç –ø–æ—Å—É–¥—É

–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:

- **–û–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å = –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
- **–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∏–º –¥–µ–ª–æ–º**
- **–ï—Å–ª–∏ –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç A –ò B, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞**

### üéØ –ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ?

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. –ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –æ–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å –æ–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º? ("–≠—Ç–æ—Ç –∫–ª–∞—Å—Å...")
2. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –ë–î, –Ω—É–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É email? (–ï—Å–ª–∏ –¥–∞ - –Ω–∞—Ä—É—à–µ–Ω–∏–µ SRP)
3. –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –∫–ª–∞—Å—Å–∞ –æ—Ç–¥–µ–ª—å–Ω–æ? (–ï—Å–ª–∏ –Ω–µ—Ç - –≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ)

### üîç –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å?

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**

1. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–ª–∞—Å—Å?** (–≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
2. **–ü–æ—á–µ–º—É –æ–Ω –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è?** (–ø—Ä–∏—á–∏–Ω—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏) 
3. **–ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É?** (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏)

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è SRP:**

- –ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ (`save_`, `send_`, `validate_`), –∏ —Ç.–¥.
- –¢—Ä—É–¥–Ω–æ –¥–∞—Ç—å –∫–ª–∞—Å—Å—É –∫–æ—Ä–æ—Ç–∫–æ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è
- –ö–ª–∞—Å—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–Ω–æ–≥–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º (–ë–î, email, API)

---

!!! note "Python Version"
    –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PEP 604 (`Type | None`) –∏ —Ç—Ä–µ–±—É—é—Ç **Python 3.10+**. 
    –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Python 3.9 –∏–ª–∏ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω—é—é –≤–µ—Ä—Å–∏—é, –∑–∞–º–µ–Ω–∏—Ç–µ `Type | None` –Ω–∞ `Optional[Type]` 
    –∏ –¥–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç: `from typing import Optional`.

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π

### –®–∞–≥ 1: –í—ã–¥–µ–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ

```python
from dataclasses import dataclass

@dataclass
class User:
    """‚úÖ –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    name: str
    email: str
    password: str
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```python
from typing import Protocol

class UserRepository(Protocol):
    """–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î"""
    def save(self, user: User) -> None: ...
    def find_by_email(self, email: str) -> User | None: ...

class EmailService(Protocol):
    """–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email"""
    def send(self, to_email: str, subject: str, message: str) -> None: ...

class PasswordValidator(Protocol):
    """–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π"""
    def validate(self, password: str) -> bool: ...
```

### –®–∞–≥ 3: –ü—Ä–æ—Å—Ç—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```python
class DatabaseUserRepository:
    """‚úÖ –¢–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –ë–î"""
    def save(self, user: User) -> None:
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–¥
        print(f"Saving {user.name} to database")
    
    def find_by_email(self, email: str) -> User | None:
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤ –ë–î
        print(f"Found user {user.name} by {email}")
        return User

class SMTPEmailService:
    """‚úÖ –¢–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ email"""
    def send(self, to_email: str, subject: str, message: str) -> None:
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ email
        print(f"Sending email to {to_email}: {subject}")

class SimplePasswordValidator:
    """‚úÖ –¢–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π"""
    def validate(self, password: str) -> bool:
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        cond = len(password) >= 8 and any(c.isdigit() for c in password)
        if not cond:
            raise ValueError("Password too weak")
        return cond
```

### –®–∞–≥ 4: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

```python
class UserService:
    """‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"""
    
    def __init__(
        self, 
        repository: UserRepository,
        email_service: EmailService, 
        password_validator: PasswordValidator
    ):
        self.repository = repository
        self.email_service = email_service
        self.password_validator = password_validator

    def create_user(self, name: str, email: str, password: str) -> User:
        """–°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
        self.password_validator.validate(password)
        user = User(name=name, email=email, password=password)
        self.repository.save(user)
        self.email_service.send(email, "Welcome!", f"Hello, {name}!")
        return user

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
user_service = UserService(
    repository=DatabaseUserRepository(),
    email_service=SMTPEmailService(),
    password_validator=SimplePasswordValidator()
)

user = user_service.create_user("Alice", "alice@example.com", "secure123")
```

### üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph TB
    A[UserService<br/>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä] --> B[UserValidator<br/>–í–∞–ª–∏–¥–∞—Ü–∏—è]
    A --> C[UserRepository<br/>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ]
    A --> D[EmailService<br/>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è]
    
    C --> E[DatabaseUserRepository]
    D --> F[SMTPEmailService]
    B --> G[SimplePasswordValidator]
    
    style A fill:#51cf66
    style B fill:#74c0fc
    style C fill:#74c0fc
    style D fill:#74c0fc
```

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SRP

### ‚úÖ **1. –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
@pytest.mark.parametrize(
    "value, expected",
    [
        ("weak", False),
        ("strong123", True)
    ]
)
def test_password_validator(value: str, expected: bool) -> None:
    validator = SimplePasswordValidator()
    assert validator.validate(value) == expected
```

### ‚úÖ **2. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
```python
# –í–∞–ª–∏–¥–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö
admin_service = AdminService(password_validator=SimplePasswordValidator())
api_service = APIService(email_service=SMTPEmailService())
```

### ‚úÖ **3. –õ–µ–≥–∫–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π**
```python
# –õ–µ–≥–∫–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π email —Å–µ—Ä–≤–∏—Å
user_service = UserService(
    repository=DatabaseUserRepository(),
    email_service=SlackNotificationService(),  # –í–º–µ—Å—Ç–æ SMTP
    password_validator=StrongPasswordValidator()  # –£—Å–∏–ª–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
)
```

---

## üéØ –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å SRP?

### ‚úÖ **–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ SRP –∫–æ–≥–¥–∞:**
- –ö–ª–∞—Å—Å –∏–º–µ–µ—Ç **–±–æ–ª–µ–µ 5-7 –º–µ—Ç–æ–¥–æ–≤**
- –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å **—Ä–∞–∑–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- **–¢—Ä—É–¥–Ω–æ –¥–∞—Ç—å –∏–º—è** –∫–ª–∞—Å—Å—É
- –ö–ª–∞—Å—Å **–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–Ω–æ–≥–∏—Ö** –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º

### ‚ö†Ô∏è **SRP –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º:**
- **–ü—Ä–æ—Å—Ç—ã–µ DTO** (Data Transfer Objects)
- **–£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã** —Å 1-2 –º–µ—Ç–æ–¥–∞–º–∏
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã**
- **–ü—Ä–æ—Ç–æ—Ç–∏–ø—ã** –∏ MVP –ø—Ä–æ–µ–∫—Ç—ã

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **SRP = –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**
2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π —É–ª—É—á—à–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**
3. **–ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–ª–∞—Å—Å—ã –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
4. **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã**
5. **–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Ä–∞–∑—É–º–Ω–æ - –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–ª–∞—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞**

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

!!! success "–ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏"
    - ‚úÖ –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
    - ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π —É–ª—É—á—à–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
    - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –≥–∏–±–∫–∏–º

!!! tip "–ü—Ä–∞–∫—Ç–∏–∫–∞"
    –ù–∞–π–¥–∏—Ç–µ –≤ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π –≤–µ—â–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ–≥–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é.

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∏–∑—É—á–∏—Ç—å **[–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏](03-open-closed.md)** - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ!

---

!!! tip "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç"
    –ù–∞—á–Ω–∏—Ç–µ —Å –∞–Ω–∞–ª–∏–∑–∞ –æ–¥–Ω–æ–≥–æ "–ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ" –∫–ª–∞—Å—Å–∞ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ. –ó–∞–¥–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å: "–ó–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç —ç—Ç–æ—Ç –∫–ª–∞—Å—Å?" –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–æ–≤ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ - –ø–æ—Ä–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å!

## üß™ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è: SRP

<div class="quiz-container" id="srp-quiz">
<script type="application/json">
{
  "title": "Single Responsibility Principle",
  "description": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
  "icon": "üìã",
  "questions": [
    {
      "question": "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)?",
      "type": "single",
      "points": 1,
      "options": [
        {"text": "–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥", "correct": false},
        {"text": "–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è", "correct": true},
        {"text": "–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ—Ç –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞", "correct": false},
        {"text": "–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–∏–º —Ç–∏–ø–æ–º –¥–∞–Ω–Ω—ã—Ö", "correct": false}
      ],
      "explanation": "SRP –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è"
    },
    {
      "question": "–ö–∞–∫–æ–π –∫–æ–¥ –Ω–∞—Ä—É—à–∞–µ—Ç SRP?",
      "type": "single",
      "points": 1,
      "code": "class UserManager:\n    def create_user(self): pass\n    def save_to_db(self): pass\n    def send_email(self): pass\n    def validate_password(self): pass",
      "options": [
        {"text": "–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π", "correct": true},
        {"text": "–ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤", "correct": false},
        {"text": "–ö–ª–∞—Å—Å —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π", "correct": false},
        {"text": "–ö–ª–∞—Å—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é", "correct": false}
      ],
      "explanation": "UserManager –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, email –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é - —ç—Ç–æ 4 —Ä–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"
    },
    {
      "question": "–ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ SRP?",
      "type": "multiple",
      "points": 2,
      "options": [
        {"text": "–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å", "correct": true},
        {"text": "–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞", "correct": true},
        {"text": "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "correct": false},
        {"text": "–õ–µ–≥–∫–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π", "correct": true},
        {"text": "–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤", "correct": false}
      ],
      "explanation": "SRP —É–ª—É—á—à–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
    },
    {
      "question": "–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –∫–ª–∞—Å—Å –Ω–∞—Ä—É—à–∞–µ—Ç SRP?",
      "type": "single", 
      "points": 1,
      "options": [
        {"text": "–£ –∫–ª–∞—Å—Å–∞ –±–æ–ª—å—à–µ 10 –º–µ—Ç–æ–¥–æ–≤", "correct": false},
        {"text": "–¢—Ä—É–¥–Ω–æ –¥–∞—Ç—å –∫–ª–∞—Å—Å—É –∫–æ—Ä–æ—Ç–∫–æ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è", "correct": true},
        {"text": "–ö–ª–∞—Å—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", "correct": false},
        {"text": "–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã", "correct": false}
      ],
      "explanation": "–ï—Å–ª–∏ —Ç—Ä—É–¥–Ω–æ –∫—Ä–∞—Ç–∫–æ –Ω–∞–∑–≤–∞—Ç—å –∫–ª–∞—Å—Å, –æ–Ω —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ"
    },
    {
      "question": "–ö–æ–≥–¥–∞ SRP –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º?",
      "type": "single",
      "points": 1,
      "options": [
        {"text": "–í –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö", "correct": false},
        {"text": "–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö", "correct": false}, 
        {"text": "–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö DTO –∫–ª–∞—Å—Å–æ–≤", "correct": true},
        {"text": "–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤", "correct": false}
      ],
      "explanation": "–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö DTO (Data Transfer Objects) —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º"
    }
  ]
}
</script>
</div>

## üíª –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ—à–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ! –ö–∞–∂–¥–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ SRP –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ UserService

–†–∞–∑–¥–µ–ª–∏—Ç–µ –∫–ª–∞—Å—Å `UserService` –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é:

{{ code_input_form(
    exercise_id="srp_refactoring_01",
    initial_code="from typing import Protocol\nfrom dataclasses import dataclass\n\n@dataclass\nclass User:\n    name: str\n    email: str\n    password: str\n\n# –ó–ê–î–ê–ù–ò–ï: –†–∞–∑–¥–µ–ª–∏—Ç–µ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é\nclass UserService:\n    def create_user(self, user_data):\n        # 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö\n        if not self._validate_data(user_data):\n            raise ValueError(\"Invalid data\")\n        \n        # 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n        user = User(**user_data)\n        \n        # 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î\n        self._save_to_db(user)\n        \n        # 4. –û—Ç–ø—Ä–∞–≤–∫–∞ email\n        self._send_welcome_email(user)\n        \n        return user\n    \n    def _validate_data(self, data): pass\n    def _save_to_db(self, user): pass  \n    def _send_welcome_email(self, user): pass\n\n# TODO: –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã:\n# 1. UserValidator(Protocol) - –≤–∞–ª–∏–¥–∞—Ü–∏—è\n# 2. UserRepository(Protocol) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ \n# 3. EmailService(Protocol) - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n# 4. UserService - —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)\n\n# –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å:\n",
    placeholder="–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é...",
    use_pyodide=True,
    test_cases=[
        {
            "code": "assert 'UserValidator' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å UserValidator'",
            "description": "–ö–ª–∞—Å—Å UserValidator –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'UserRepository' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å UserRepository'",
            "description": "–ö–ª–∞—Å—Å UserRepository –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'EmailService' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å EmailService'",
            "description": "–ö–ª–∞—Å—Å EmailService –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "validator = UserValidator if not isinstance(UserValidator, type(Protocol)) else None; assert validator is None or hasattr(validator, 'validate'), 'UserValidator –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–µ—Ç–æ–¥ validate'",
            "description": "UserValidator –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–µ—Ç–æ–¥ validate"
        }
    ]
) }}

!!! tip "–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 1"
    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Protocol –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∞ –∑–∞—Ç–µ–º —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã. UserService –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Dependency Injection).

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ OrderProcessor

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å `OrderProcessor` –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –µ–≥–æ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

{{ code_input_form(
    exercise_id="srp_order_processor",
    initial_code="from typing import Protocol\nfrom dataclasses import dataclass\n\n@dataclass\nclass Order:\n    order_id: str\n    amount: float\n    customer_email: str\n\n# TODO: –†–∞–∑–¥–µ–ª–∏—Ç–µ OrderProcessor –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã:\n# 1. OrderValidator - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–∫–∞–∑–∞\n# 2. OrderRepository - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î\n# 3. PaymentProcessor - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞\n# 4. EmailNotifier - –æ—Ç–ø—Ä–∞–≤–∫–∞ email\n# 5. InventoryManager - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞\n# 6. OrderProcessor - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n\n# –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º SRP:\nclass OrderProcessor:\n    def process_order(self, order_data):\n        # –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–∫–∞–∑–∞\n        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î  \n        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞\n        # –û—Ç–ø—Ä–∞–≤–∫–∞ email\n        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞\n        pass\n\n# –í–∞—à —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–¥–µ—Å—å:\n",
    placeholder="–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏...",
    use_pyodide=True,
    test_cases=[
        {
            "code": "assert 'OrderValidator' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å OrderValidator'",
            "description": "–ö–ª–∞—Å—Å OrderValidator –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'OrderRepository' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å OrderRepository'",
            "description": "–ö–ª–∞—Å—Å OrderRepository –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'PaymentProcessor' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å PaymentProcessor'",
            "description": "–ö–ª–∞—Å—Å PaymentProcessor –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'EmailNotifier' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å EmailNotifier'",
            "description": "–ö–ª–∞—Å—Å EmailNotifier –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'InventoryManager' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å InventoryManager'",
            "description": "–ö–ª–∞—Å—Å InventoryManager –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        }
    ]
) }}

!!! tip "–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 2"
    –ö–ª–∞—Å—Å –∏–º–µ–µ—Ç **5 –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π** (–ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏). –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è Protocol –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. OrderProcessor –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ FileManager

–†–∞–∑–¥–µ–ª–∏—Ç–µ `FileManager` –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:

{{ code_input_form(
    exercise_id="srp_file_manager",
    initial_code="from typing import Protocol\n\n# TODO: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:\n# 1. FileReader(Protocol) - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤\n# 2. FileWriter(Protocol) - –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤\n# 3. FileCompressor(Protocol) - —Å–∂–∞—Ç–∏–µ —Ñ–∞–π–ª–æ–≤\n# 4. FileEncryptor(Protocol) - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤\n# 5. CloudUploader(Protocol) - –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–ª–∞–∫–æ\n# 6. FileManager - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π\n\n# –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º SRP:\nclass FileManager:\n    def read_file(self, filename): pass\n    def write_file(self, filename, content): pass  \n    def compress_file(self, filename): pass\n    def encrypt_file(self, filename, key): pass\n    def upload_to_cloud(self, filename): pass\n\n# –í–∞—à —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–¥–µ—Å—å:\n",
    placeholder="–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏...",
    use_pyodide=True,
    test_cases=[
        {
            "code": "assert 'FileReader' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª FileReader'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª FileReader –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'FileWriter' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª FileWriter'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª FileWriter –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'FileCompressor' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª FileCompressor'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª FileCompressor –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'FileEncryptor' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª FileEncryptor'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª FileEncryptor –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'CloudUploader' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª CloudUploader'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª CloudUploader –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        }
    ]
) }}

!!! tip "–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 3"
    –°–æ–∑–¥–∞–π—Ç–µ **5 –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏. –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥. –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LocalFileReader`, `GZipCompressor`). FileManager –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —ç—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 4: –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞

–°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É e-commerce —Å–∏—Å—Ç–µ–º—ã —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π:

{{ code_input_form(
    exercise_id="srp_ecommerce_system",
    initial_code="from typing import Protocol\nfrom dataclasses import dataclass\nfrom decimal import Decimal\n\n@dataclass\nclass Product:\n    product_id: str\n    name: str\n    price: Decimal\n    stock: int\n\n@dataclass\nclass Order:\n    order_id: str\n    product_id: str\n    quantity: int\n    total: Decimal\n\n# TODO: –°–æ–∑–¥–∞–π—Ç–µ 4 –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–∞:\n# 1. ProductService(Protocol) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏\n#    ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: ProductCatalog\n# 2. OrderService(Protocol) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤\n#    ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: OrderManager\n# 3. PaymentService(Protocol) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π\n#    ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏: StripePaymentProcessor, PayPalProcessor\n# 4. NotificationService(Protocol) - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n#    ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏: SMTPEmailService, SlackNotifier\n# 5. ECommerceSystem - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤\n\n# –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å:\n",
    placeholder="–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è e-commerce —Å–∏—Å—Ç–µ–º—ã...",
    use_pyodide=True,
    test_cases=[
        {
            "code": "assert 'ProductService' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª ProductService'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª ProductService –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'OrderService' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª OrderService'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª OrderService –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'PaymentService' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª PaymentService'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª PaymentService –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'NotificationService' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª NotificationService'",
            "description": "–ü—Ä–æ—Ç–æ–∫–æ–ª NotificationService –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        },
        {
            "code": "assert 'ECommerceSystem' in globals(), '–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä ECommerceSystem'",
            "description": "–ö–ª–∞—Å—Å ECommerceSystem –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å"
        }
    ]
) }}

!!! tip "–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 4"
    –°–æ–∑–¥–∞–π—Ç–µ **4 –ø—Ä–æ—Ç–æ–∫–æ–ª–∞** –¥–ª—è –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º—É–º –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–¥–ª—è PaymentService –∏ NotificationService - –ø–æ –¥–≤–µ). ECommerceSystem –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Ä–∞–±–æ—Ç—É. –ù–∞–ø—Ä–∏–º–µ—Ä: `create_order()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ProductService ‚Üí OrderService ‚Üí PaymentService ‚Üí NotificationService.